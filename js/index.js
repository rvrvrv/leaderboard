"use strict";var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function f(g,h){try{var j=b[g](h),k=j.value}catch(l){return void d(l)}return j.done?void c(k):Promise.resolve(k).then(function(l){f("next",l)},function(l){f("throw",l)})}return f("next")})}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var User=function(_ref){var a=_ref.rank,b=_ref.username,c=_ref.img,d=_ref.recentPts,f=_ref.alltimePts;return React.createElement("tr",null,React.createElement("td",{className:"rank"},a),React.createElement("td",{className:"camper"},React.createElement("a",{href:"https://www.freecodecamp.com/"+b,target:"_blank"},React.createElement("img",{className:"avatar",src:c,alt:b}),React.createElement("span",null,b))),React.createElement("td",{className:"points recent"},d),React.createElement("td",{className:"points alltime"},f))},TableHeader=function(a){function b(){var n,h,j,k;_classCallCheck(this,b);for(var l=arguments.length,g=Array(l),m=0;m<l;m++)g[m]=arguments[m];return k=(h=(j=_possibleConstructorReturn(this,(n=b.__proto__||Object.getPrototypeOf(b)).call.apply(n,[this].concat(g))),j),j.handleClick=function(o){"sortable"===o.target.className&&j.props.onChangeDisplay()},h),_possibleConstructorReturn(j,k)}return _inherits(b,a),_createClass(b,[{key:"render",value:function render(){return React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Rank"),React.createElement("th",null,"Camper"),React.createElement("th",{className:"recent"===this.props.showing&&"showing"||"sortable",onClick:this.handleClick},"Recent Pts."),React.createElement("th",{className:"alltime"===this.props.showing&&"showing"||"sortable",onClick:this.handleClick},"All-Time Pts.")))}}]),b}(React.Component),Leaderboard=function(a){return React.createElement("div",null,React.createElement("table",null,React.createElement(TableHeader,{onChangeDisplay:a.onChangeDisplay.bind(void 0),showing:a.showing}),React.createElement("tbody",null,a[a.showing].map(function(b,c){return React.createElement(User,{rank:c+1,img:b.img,username:b.username,recentPts:b.recent,alltimePts:b.alltime})}))))},App=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.handleChangeDisplay=function(){d.setState({showing:"alltime"===d.state.showing?"recent":"alltime"}),d.scrollToTop()},d.scrollToTop=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},d.state={recent:null,alltime:null,showing:"recent",status:null},d}return _inherits(b,a),_createClass(b,[{key:"componentDidMount",value:function(){var d=_asyncToGenerator(regeneratorRuntime.mark(function f(){var g,h,j,k;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return g="https://api.npoint.io/df4d86c7cd7b69ad3603",h="https://api.npoint.io/b56606bb3536eb445851",j=void 0,k=void 0,m.prev=3,m.next=6,fetch(g);case 6:return m.next=8,m.sent.json();case 8:return j=m.sent,m.next=11,fetch(h);case 11:return m.next=13,m.sent.json();case 13:k=m.sent,this.setState({recent:j,alltime:k,status:"loaded"}),m.next=20;break;case 17:m.prev=17,m.t0=m["catch"](3),this.setState({status:"error"});case 20:case"end":return m.stop();}},f,this,[[3,17]])}));return function c(){return d.apply(this,arguments)}}()},{key:"render",value:function render(){return React.createElement("div",{className:"entire-board"},React.createElement("h2",{className:"title",onClick:this.scrollToTop},"Camper Leaderboard"),!this.state.status&&React.createElement("h1",{className:"blinking"},"Retrieving data..."),"error"===this.state.status&&React.createElement("h2",null,"Could not retrieve data. Please try again later."),"loaded"===this.state.status&&React.createElement(Leaderboard,{recent:this.state.recent,alltime:this.state.alltime,showing:this.state.showing,onChangeDisplay:this.handleChangeDisplay}))}}]),b}(React.Component);ReactDOM.render(React.createElement(App,null),document.getElementById("app"));